<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endless Chicken Clicker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
            background-color: #2f2f2f;
            color: white;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button:hover {
            background-color: #45a049;
        }
        #clickImage {
            display: block;
            margin: 20px auto;
            width: 100px;
            cursor: pointer;
            transition: transform 0.1s ease;
        }
        #clickImage.clicked {
            transform: scale(1.1); /* Slightly enlarge the image */
        }
        .stat {
            font-size: 18px;
            margin: 10px 0;
        }
        .ui-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .ui-container button {
            margin: 10px;
        }
        /* Cosmetic Shop Modal */
        #cosmeticShopModal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(47,47,47,1);
            overflow: auto;
        }
        #cosmeticShopContent {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            border-radius: 10px;
        }
        #cosmeticShopContent button {
            background-color: #FF6347;
        }
    </style>
</head>
<body>
    <h1>Endless Chicken Clicker</h1>
    <div class="ui-container">
        <p id="chickenCount" class="stat">Chicken: 0</p>
        <p id="clickValue" class="stat">Click Value: 1</p>
        <p id="autoClickers" class="stat">Auto Clickers: 0</p>
        <p id="prestiges" class="stat">Prestiges: 0</p>
        <p id="rebirths" class="stat">Rebirths: 0</p>
        <p id="autoClickerCost" class="stat">Auto Clicker Cost: 10</p>
        <p id="prestigeRequirement" class="stat">Prestige Requirement: 1000 Chicken</p>
        <p id="rebirthRequirement" class="stat">Rebirth Requirement: 10 Prestiges</p>
        <p id="offlineEarnings" class="stat">Offline Earnings Multiplier: 1x</p>
        <p id="clickUpgradeCost" class="stat">Click Upgrade Cost: 50</p>
    </div>

    <img id="clickImage" src="chicken.png" alt="Click for Chicken">

    <div class="ui-container">
        <button id="buyAutoClicker">Buy Auto Clicker</button>
        <button id="buyClickUpgrade">Upgrade Click Power</button>
        <button id="prestige">Prestige</button>
        <button id="rebirth">Rebirth</button>
    </div>

    <div class="ui-container">
        <button class="settings-button" id="settingsButton">Settings</button>
        <button class="shop-button" id="shopButton">Shop</button>
    </div>

    <!-- Cosmetic Shop Modal -->
    <div id="cosmeticShopModal">
        <div id="cosmeticShopContent">
            <h2>Cosmetic Shop</h2>
            <p>Choose your favorite cosmetic upgrades!</p>
            <button id="buyBackgroundUpgrade">Buy Background Theme</button>
            <button id="buyChickenSkin">Buy Chicken Skin</button>
            <button id="closeShop">Close Shop</button>
        </div>
    </div>

    <script>
        class Game {
            constructor() {
                this.chicken = 0;
                this.clickValue = 1;
                this.autoClickers = 0;
                this.autoClickValue = 0.1;
                this.prestigeMultiplier = 1;
                this.rebirthMultiplier = 1;
                this.prestiges = 0;
                this.rebirths = 0;
                this.offlineMultiplier = 1;
                this.clickUpgradeLevel = 0;
                this.clickUpgradeCost = 50;
                this.prestigeCost = 1000;
                this.rebirthCost = 10;
                this.lastUpdate = Date.now();
                this.loadGame();
                this.isBackgroundUpgraded = false; // New cosmetic feature
                this.isChickenSkinUpgraded = false; // New cosmetic feature
            }

            click() {
                this.chicken += this.clickValue * this.prestigeMultiplier * this.rebirthMultiplier;
                this.updateUI();
                this.saveGame();
                
                const clickImage = document.getElementById("clickImage");
                clickImage.classList.add("clicked");
                setTimeout(() => {
                    clickImage.classList.remove("clicked");
                }, 100);
            }

            buyAutoClicker() {
                let cost = Math.floor(10 * Math.pow(1.15, this.autoClickers));
                if (this.chicken >= cost) {
                    this.chicken -= cost;
                    this.autoClickers++;
                    this.updateUI();
                    this.saveGame();
                }
            }

            buyClickUpgrade() {
                if (this.chicken >= this.clickUpgradeCost) {
                    this.chicken -= this.clickUpgradeCost;
                    this.clickValue *= 2; // Increase click power by 2x
                    this.clickUpgradeLevel++;
                    this.clickUpgradeCost = Math.pow(this.clickUpgradeCost, 2); // Square the previous cost
                    this.updateUI();
                    this.saveGame();
                }
            }

            prestige() {
                if (this.chicken >= this.prestigeCost) {
                    this.prestiges++;
                    this.prestigeMultiplier *= 1.1 + (this.prestiges * 0.05);
                    this.chicken = 0;
                    this.autoClickers = 0;
                    this.prestigeCost *= 10; // Prestige cost multiplies by 10
                    this.updateUI();
                    this.saveGame();
                }
            }

            rebirth() {
                if (this.prestiges >= this.rebirthCost) {
                    this.rebirths++;
                    this.rebirthMultiplier *= 1.2 + (this.rebirths * 0.1);
                    this.prestiges = 0;
                    this.prestigeMultiplier = 1;
                    this.chicken = 0;
                    this.autoClickers = 0;
                    this.rebirthCost *= 10; // Rebirth cost multiplies by 10
                    this.updateUI();
                    this.saveGame();
                }
            }

            autoGenerate() {
                this.chicken += this.autoClickers * this.autoClickValue * this.prestigeMultiplier * this.rebirthMultiplier;
                this.updateUI();
                this.saveGame();
            }

            updateUI() {
                let autoClickerCost = Math.floor(10 * Math.pow(1.15, this.autoClickers));
                document.getElementById("chickenCount").innerText = `Chicken: ${Math.floor(this.chicken)}`;
                document.getElementById("clickValue").innerText = `Click Value: ${this.clickValue * this.prestigeMultiplier * this.rebirthMultiplier}`;
                document.getElementById("autoClickers").innerText = `Auto Clickers: ${this.autoClickers}`;
                document.getElementById("prestiges").innerText = `Prestiges: ${this.prestiges}`;
                document.getElementById("rebirths").innerText = `Rebirths: ${this.rebirths}`;
                document.getElementById("autoClickerCost").innerText = `Auto Clicker Cost: ${autoClickerCost}`;
                document.getElementById("prestigeRequirement").innerText = `Prestige Requirement: ${this.prestigeCost} Chicken`;
                document.getElementById("rebirthRequirement").innerText = `Rebirth Requirement: ${this.rebirthCost} Prestiges`;
                document.getElementById("offlineEarnings").innerText = `Offline Earnings Multiplier: ${this.offlineMultiplier.toFixed(1)}x`;
                document.getElementById("clickUpgradeCost").innerText = `Click Upgrade Cost: ${this.clickUpgradeCost}`;
            }

            saveGame() {
                localStorage.setItem('chickenClicker', JSON.stringify(this));
            }

            loadGame() {
                let savedGame = JSON.parse(localStorage.getItem('chickenClicker'));
                if (savedGame) {
                    Object.assign(this, savedGame);
                    let timeElapsed = (Date.now() - this.lastUpdate) / 1000;
                    this.chicken += timeElapsed * this.autoClickers * this.autoClickValue * this.prestigeMultiplier * this.rebirthMultiplier * this.offlineMultiplier;
                    this.updateUI();
                }
            }

            // Cosmetic Purchases
            buyBackgroundUpgrade() {
                if (this.chicken >= 500) {
                    this.chicken -= 500;
                    this.isBackgroundUpgraded = true; // Cosmetic feature activated
                    document.body.style.backgroundColor = "#FFD700"; // Example: Golden background theme
                    this.updateUI();
                    this.saveGame();
                }
            }

            buyChickenSkin() {
                if (this.chicken >= 1000) {
                    this.chicken -= 1000;
                    this.isChickenSkinUpgraded = true; // Cosmetic feature activated
                    document.getElementById("clickImage").src = "golden_chicken.png"; // Example: Golden chicken skin
                    this.updateUI();
                    this.saveGame();
                }
            }
        }

        const game = new Game();
        setInterval(() => game.autoGenerate(), 1000);

        // Event listeners
        document.getElementById("clickImage").addEventListener("click", () => game.click());
        document.getElementById("buyAutoClicker").addEventListener("click", () => game.buyAutoClicker());
        document.getElementById("buyClickUpgrade").addEventListener("click", () => game.buyClickUpgrade());
        document.getElementById("prestige").addEventListener("click", () => game.prestige());
        document.getElementById("rebirth").addEventListener("click", () => game.rebirth());

        // Open and Close Cosmetic Shop
        document.getElementById("shopButton").addEventListener("click", () => {
            document.getElementById("cosmeticShopModal").style.display = "block";
        });

        document.getElementById("closeShop").addEventListener("click", () => {
            document.getElementById("cosmeticShopModal").style.display = "none";
        });

        document.getElementById("buyBackgroundUpgrade").addEventListener("click", () => game.buyBackgroundUpgrade());
        document.getElementById("buyChickenSkin").addEventListener("click", () => game.buyChickenSkin());
    </script>
</body>
</html>
