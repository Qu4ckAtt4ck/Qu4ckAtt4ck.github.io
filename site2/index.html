<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment Tracker</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h1>Assignment Tracker</h1>
    
    <py-script>
# ------------------------------
# Dynamic daily requirements
# ------------------------------
classes = ["English", "Math", "Science", "History"]
DAILY_REQ = {}
for cls in classes:
    DAILY_REQ[cls] = int(input(f"How many {cls} assignments per day? "))

# ------------------------------
# Backlog calculation
# ------------------------------
def calculate_day_backlog(done, daily_req):
    if done == daily_req:
        return 0
    elif done > daily_req:
        return -(done - daily_req)
    else:
        return daily_req - done

# ------------------------------
# Get assignments per class per day
# ------------------------------
def get_assignments_per_class(num_days, classes):
    assignments_done = {cls: [] for cls in classes}
    day_list = [i + 1 for i in range(num_days)]
    for day in day_list:
        print(f"\n--- Day {day} ---")
        for cls in classes:
            while True:
                try:
                    done = int(input(f"For {cls}, enter assignments done on day {day}: "))
                    if done < 0:
                        print("Enter a non-negative integer.")
                        continue
                    assignments_done[cls].append(done)
                    break
                except:
                    print("Enter a valid integer.")
    return assignments_done

# ------------------------------
# Calculate total assignments for today
# ------------------------------
def assignments_to_do_today(assignments_done):
    today_totals = {}
    for cls, done_list in assignments_done.items():
        daily_req = DAILY_REQ[cls]
        backlog = sum([calculate_day_backlog(done, daily_req) for done in done_list])
        today_totals[cls] = daily_req + backlog
    return today_totals

# ------------------------------
# Main execution
# ------------------------------
num_days = int(input("Today is the x-th day of the timeframe, meaning you've done work for x-1 days. What is x? "))
assignments_done = get_assignments_per_class(num_days - 1, classes)
today_totals = assignments_to_do_today(assignments_done)

print("\nTotal assignments to do today (daily minimum + backlog):")
for cls, total in today_totals.items():
    print(f"{cls}: {total}")

    </py-script>
</body>
</html>
