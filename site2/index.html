<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assignment Calculator</title>
<link rel="stylesheet" href="darkmode.css">
<!-- Google AdSense -->
<script async 
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4685900264494987"
        crossorigin="anonymous"></script>
</head>
<body>

<h2>Daily Assignment Calculator</h2>

<form id="dailyReqForm">
  <h3>Daily Required Assignments</h3>
  <label>English: <input type="number" min="0" id="englishReq" value="0"></label><br>
  <label>Math: <input type="number" min="0" id="mathReq" value="0"></label><br>
  <label>Science: <input type="number" min="0" id="scienceReq" value="0"></label><br>
  <label>History: <input type="number" min="0" id="historyReq" value="0"></label><br>
  <button type="button" onclick="setupDays()">Set Number of Days</button>
</form>

<div id="assignmentsSection" style="display:none;">
  <h3>Assignments Done for Previous Days</h3>
  <div id="assignmentsInputs"></div>
  <button onclick="calculateTotals()">Calculate Today's Totals</button>
</div>

<h3>Results</h3>
<div id="results"></div>

<script>
let DAILY_REQ = {};
let numDays = 0;
let classes = ["English", "Math", "Science", "History"];

function setupDays() {
  DAILY_REQ = {
    English: parseInt(document.getElementById("englishReq").value) || 0,
    Math: parseInt(document.getElementById("mathReq").value) || 0,
    Science: parseInt(document.getElementById("scienceReq").value) || 0,
    History: parseInt(document.getElementById("historyReq").value) || 0,
  };

  do {
    numDays = parseInt(prompt("Today is the x-th day of the timeframe, meaning you've done work for x-1 days. What is x?"));
  } while (isNaN(numDays) || numDays < 1);

  const prevDays = numDays - 1;

  let html = "";
  for (let day = 1; day <= prevDays; day++) {
    html += `<h4>Day ${day}</h4>`;
    classes.forEach(cls => {
      html += `<label>${cls}: <input type="number" min="0" data-class="${cls}" data-day="${day}" value="0"></label><br>`;
    });
  }

  document.getElementById("assignmentsInputs").innerHTML = html;
  document.getElementById("assignmentsSection").style.display = prevDays > 0 ? "block" : "none";
}

function calculateDayBacklog(done, daily) {
  if (done === daily) return 0;
  return done > daily ? -(done - daily) : daily - done;
}

function calculateTotals() {
  const assignmentsDone = {};
  classes.forEach(cls => assignmentsDone[cls] = []);

  const inputs = document.querySelectorAll("#assignmentsInputs input");
  inputs.forEach(input => {
    const cls = input.dataset.class;
    const val = parseInt(input.value) || 0;
    assignmentsDone[cls].push(val);
  });

  const todayTotals = {};
  classes.forEach(cls => {
    const dailyReq = DAILY_REQ[cls];
    const backlog = assignmentsDone[cls].reduce((sum, done) => sum + calculateDayBacklog(done, dailyReq), 0);
    todayTotals[cls] = Math.max(dailyReq + backlog, 0);
  });

  let resultHtml = "<table><tr><th>Class</th><th>Assignments Today</th></tr>";
  classes.forEach(cls => {
    resultHtml += `<tr><td>${cls}</td><td>${todayTotals[cls]}</td></tr>`;
  });
  resultHtml += "</table>";
  document.getElementById("results").innerHTML = resultHtml;
}
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4685900264494987"
     crossorigin="anonymous"></script>
<!-- Ad1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4685900264494987"
     data-ad-slot="1836023557"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

</body>
</html>
